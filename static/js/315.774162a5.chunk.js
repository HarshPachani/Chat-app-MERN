"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[315],{315:(e,a,t)=>{t.r(a),t.d(a,{default:()=>N});var r=t(35),n=t(8911),o=t(9379),i=t(7392),l=t(5865),s=t(6446),c=t(5122),d=t(5043),p=t(3003),h=t(3355),u=t(6178),m=t.n(u),x=t(1171),v=t(8584),A=t(9662),g=t(579);const b=(0,A.A)((0,g.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10h5v-2h-5c-4.34 0-8-3.66-8-8s3.66-8 8-8 8 3.66 8 8v1.43c0 .79-.71 1.57-1.5 1.57s-1.5-.78-1.5-1.57V12c0-2.76-2.24-5-5-5s-5 2.24-5 5 2.24 5 5 5c1.38 0 2.64-.56 3.54-1.47.65.89 1.77 1.47 2.96 1.47 1.97 0 3.5-1.6 3.5-3.57V12c0-5.52-4.48-10-10-10m0 13c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3"}),"AlternateEmail"),f=(0,A.A)((0,g.jsx)("path",{d:"M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25m6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8"}),"Face"),j=(0,A.A)((0,g.jsx)("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth");var y=t(3560),w=t(5948),k=t(3202),C=t(7025),W=t(4852),S=t(8925),M=t(6213),D=t(3768);const P=["orange","blue","lightBlue","green"];var B=t(9648),H=t(2581),F=t(7832),I=t(5542);const z=e=>{let{text:a,Icon:t,heading:r,edit:o,editHandler:p}=e;const[h,u]=(0,d.useState)(a),[m,x]=(0,d.useState)(!1);return(0,g.jsxs)(n.A,{direction:"row",alignItems:"center",spacing:"1rem",color:"white",textAlign:"center",children:[t&&t,(0,g.jsxs)(n.A,{children:[(0,g.jsx)(l.A,{variant:"caption",color:"gray",children:r}),m?(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,g.jsx)(c.A,{value:h,onChange:e=>u(e.target.value)}),(0,g.jsx)(i.A,{onClick:()=>{if(h){switch(r){case"Username":p("username",h);break;case"Bio":p("bio",h);break;case"Name":p("name",h);break;default:x(!1)}x(!1)}else D.Ay.error("".concat(r," can not be Empty!"))},children:(0,g.jsx)(v.A,{})})]})}):(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,g.jsx)(l.A,{variant:"body1",color:"black",children:h}),o&&(0,g.jsx)(i.A,{onClick:()=>x(!0),children:(0,g.jsx)(y.A,{})})]})})]})]})},T=e=>{let{theme:a,clickHandler:t}=e;return(0,g.jsx)(B.A,{width:"5px",height:"5px",variant:"caption",sx:{backgroundColor:a,borderRadius:"50%"},onClick:()=>t(a)})},N=()=>{var e;const{isProfile:a}=(0,p.d4)((e=>e.misc)),{user:t}=(0,p.d4)((e=>e.auth)),s=(0,W.Y)(),[c,u]=(0,d.useState)(!1),A=(0,I.A_)("single",2),y=(0,p.wA)(),[B]=(0,w.dF)(k.d2),N=(e,a)=>{B("Updating ".concat(e,"..."),{field:e,value:a})},R=(0,d.useCallback)((async()=>{try{const{data:e}=await M.A.get("".concat("http://localhost:8000","/api/v1/user/profile"),{withCredentials:!0});y((0,S.sI)(null===e||void 0===e?void 0:e.user))}catch(e){console.log(e.message),y((0,S.TW)())}}),[t]),E={[C.OR]:R};(0,w.Q7)(s,E);const V=e=>{y((0,H.Yl)(e))},Y=async e=>{e.preventDefault();const a=D.Ay.loading("Changing Profile Picture..."),t=new FormData;t.append("avatar",A.file);const r={withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}};try{const{data:e}=await M.A.put("".concat("http://localhost:8000","/api/v1/user/profile/update/avatar"),t,r);D.Ay.success(e.message,{id:a})}catch(i){var n,o;D.Ay.error(null===i||void 0===i||null===(n=i.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message,{id:a})}finally{u(!1)}};(0,d.useEffect)((()=>{var e;A.preview=null===t||void 0===t||null===(e=t.avatar)||void 0===e?void 0:e.url}),[]);return(0,g.jsx)(r.A,{open:a,onClose:()=>y((0,h.QD)(!1)),fullWidth:!0,children:(0,g.jsxs)(n.A,{spacing:"2rem",direction:"column",alignItems:"center",sx:{margin:"15px"},children:[(0,g.jsxs)("form",{style:{width:"100%",marginTop:"1rem"},onSubmit:Y,children:[(0,g.jsxs)(n.A,{position:"relative",width:"10rem",margin:"auto",children:[(0,g.jsx)(o.A,{sx:{width:"10rem",height:"10rem",objectFit:"contain"},src:null!==t&&void 0!==t&&null!==(e=t.avatar)&&void 0!==e&&e.url&&!c?t.avatar.url:A.preview}),(0,g.jsx)(i.A,{sx:{position:"absolute",bottom:"0",right:"0",color:"white",bgcolor:"rgba(0, 0, 0, 0.5)",":hover":{bgcolor:"rgba(0, 0, 0, 0.7)"}},component:"label",children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(x.A,{}),(0,g.jsx)(F.oQ,{onChange:e=>{A.changeHandler(e),u(!0)},type:"file"})]})}),c&&(0,g.jsx)(i.A,{type:"submit",sx:{width:"fit-content"},onClick:Y,children:(0,g.jsx)(v.A,{})})]}),A.error&&(0,g.jsx)(l.A,{m:"1rem auto",width:"fit-content",display:"block",color:"error",variant:"caption",children:A.error})]}),(0,g.jsx)(z,{heading:"Username",text:null===t||void 0===t?void 0:t.username,Icon:(0,g.jsx)(b,{}),edit:!0,editHandler:N}),(0,g.jsx)(z,{heading:"Bio",text:null===t||void 0===t?void 0:t.bio,edit:!0,editHandler:N}),(0,g.jsx)(z,{heading:"Name",text:null===t||void 0===t?void 0:t.name,Icon:(0,g.jsx)(f,{}),edit:!0,editHandler:N}),(0,g.jsx)(z,{heading:"Joined",text:m()(null===t||void 0===t?void 0:t.createdAt).fromNow(),Icon:(0,g.jsx)(j,{}),edit:!1}),(0,g.jsx)(l.A,{variant:"caption",color:"gray",marginBottom:0,children:"Customize Themes:"}),(0,g.jsx)(n.A,{direction:"row",spacing:"2rem",alignItems:"center",children:P.map(((e,a)=>(0,g.jsx)(T,{theme:e,clickHandler:V},a)))})]})})}},8584:(e,a,t)=>{t.d(a,{A:()=>o});var r=t(9662),n=t(579);const o=(0,r.A)((0,n.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"Done")},3560:(e,a,t)=>{t.d(a,{A:()=>o});var r=t(9662),n=t(579);const o=(0,r.A)((0,n.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},35:(e,a,t)=>{t.d(a,{A:()=>M});var r=t(8587),n=t(8168),o=t(5043),i=t(8387),l=t(8606),s=t(992),c=t(6803),d=t(1243),p=t(6258),h=t(3336),u=t(2876),m=t(4535),x=t(7056),v=t(2400);function A(e){return(0,v.Ay)("MuiDialog",e)}const g=(0,x.A)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var b=t(2563),f=t(2220),j=t(6240),y=t(579);const w=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],k=(0,m.Ay)(f.A,{name:"MuiDialog",slot:"Backdrop",overrides:(e,a)=>a.backdrop})({zIndex:-1}),C=(0,m.Ay)(d.A,{name:"MuiDialog",slot:"Root",overridesResolver:(e,a)=>a.root})({"@media print":{position:"absolute !important"}}),W=(0,m.Ay)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.container,a["scroll".concat((0,c.A)(t.scroll))]]}})((e=>{let{ownerState:a}=e;return(0,n.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===a.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===a.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),S=(0,m.Ay)(h.A,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.paper,a["scrollPaper".concat((0,c.A)(t.scroll))],a["paperWidth".concat((0,c.A)(String(t.maxWidth)))],t.fullWidth&&a.paperFullWidth,t.fullScreen&&a.paperFullScreen]}})((e=>{let{theme:a,ownerState:t}=e;return(0,n.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===t.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===t.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===t.maxWidth&&{maxWidth:"px"===a.breakpoints.unit?Math.max(a.breakpoints.values.xs,444):"max(".concat(a.breakpoints.values.xs).concat(a.breakpoints.unit,", 444px)"),["&.".concat(g.paperScrollBody)]:{[a.breakpoints.down(Math.max(a.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&"xs"!==t.maxWidth&&{maxWidth:"".concat(a.breakpoints.values[t.maxWidth]).concat(a.breakpoints.unit),["&.".concat(g.paperScrollBody)]:{[a.breakpoints.down(a.breakpoints.values[t.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(g.paperScrollBody)]:{margin:0,maxWidth:"100%"}})})),M=o.forwardRef((function(e,a){const t=(0,u.A)({props:e,name:"MuiDialog"}),d=(0,j.A)(),m={enter:d.transitions.duration.enteringScreen,exit:d.transitions.duration.leavingScreen},{"aria-describedby":x,"aria-labelledby":v,BackdropComponent:g,BackdropProps:f,children:M,className:D,disableEscapeKeyDown:P=!1,fullScreen:B=!1,fullWidth:H=!1,maxWidth:F="sm",onBackdropClick:I,onClick:z,onClose:T,open:N,PaperComponent:R=h.A,PaperProps:E={},scroll:V="paper",TransitionComponent:Y=p.A,transitionDuration:K=m,TransitionProps:L}=t,Q=(0,r.A)(t,w),U=(0,n.A)({},t,{disableEscapeKeyDown:P,fullScreen:B,fullWidth:H,maxWidth:F,scroll:V}),X=(e=>{const{classes:a,scroll:t,maxWidth:r,fullWidth:n,fullScreen:o}=e,i={root:["root"],container:["container","scroll".concat((0,c.A)(t))],paper:["paper","paperScroll".concat((0,c.A)(t)),"paperWidth".concat((0,c.A)(String(r))),n&&"paperFullWidth",o&&"paperFullScreen"]};return(0,l.A)(i,A,a)})(U),J=o.useRef(),O=(0,s.A)(v),_=o.useMemo((()=>({titleId:O})),[O]);return(0,y.jsx)(C,(0,n.A)({className:(0,i.A)(X.root,D),closeAfterTransition:!0,components:{Backdrop:k},componentsProps:{backdrop:(0,n.A)({transitionDuration:K,as:g},f)},disableEscapeKeyDown:P,onClose:T,open:N,ref:a,onClick:e=>{z&&z(e),J.current&&(J.current=null,I&&I(e),T&&T(e,"backdropClick"))},ownerState:U},Q,{children:(0,y.jsx)(Y,(0,n.A)({appear:!0,in:N,timeout:K,role:"presentation"},L,{children:(0,y.jsx)(W,{className:(0,i.A)(X.container),onMouseDown:e=>{J.current=e.target===e.currentTarget},ownerState:U,children:(0,y.jsx)(S,(0,n.A)({as:R,elevation:24,role:"dialog","aria-describedby":x,"aria-labelledby":O},E,{className:(0,i.A)(X.paper,E.className),ownerState:U,children:(0,y.jsx)(b.A.Provider,{value:_,children:M})}))})}))}))}))},2563:(e,a,t)=>{t.d(a,{A:()=>r});const r=t(5043).createContext({})}}]);
//# sourceMappingURL=315.774162a5.chunk.js.map